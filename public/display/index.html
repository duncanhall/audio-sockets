<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="stylesheet" href="/bower_components/bootstrap/dist/css/bootstrap.min.css">
    <link href="/bower_components/bootstrap-material-design/dist/css/ripples.min.css" rel="stylesheet">
    <link href="/bower_components/bootstrap-material-design/dist/css/material-wfont.min.css" rel="stylesheet">


    <script src="/bower_components/lodash/dist/lodash.min.js"></script>
    <script src="/bower_components/angular/angular.min.js"></script>
    <script src="/bower_components/angular-ui-router/release/angular-ui-router.min.js"></script>

    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <script src="/socket.io/socket.io.js"></script>

    <base href="/">
</head>
<body ng-app="DisplayController">

<div class="container" ui-view=""></div>

<script src="/bower_components/jquery/dist/jquery.min.js"></script>
<script src="/bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
<script src="/bower_components/bootstrap-material-design/dist/js/ripples.min.js"></script>
<script src="/bower_components/bootstrap-material-design/dist/js/material.min.js"></script>

<script src="/common/js/SocketService.js"></script>
<script src="/display/js/app.js"></script>
<script src="/display/js/controllers/home.js"></script>

<script>
    $(document).ready(function() {
        $.material.init();

        var socket = null;
        var ClientCommand = {};
        var HAND_SHAKE = '<%= settings.CMD_HAND_SHAKE %>';
        var START = '<%= settings.CMD_START %>';
        var STOP = '<%= settings.CMD_STOP %>';
        var CHANGE = '<%= settings.CMD_CHANGE %>';
        var DISCONNECT = '<%= settings.CMD_DISCONNECT %>';

        socket = io.connect('<%= settings.connectionURL %>');

        socket.on("connect", function() {
            socket.emit("id", "slave");
        });

        socket.on("cmd-client", function(data) {
            var id = data.id;
            var cmd = data.cmd;
            switch(cmd)
            {
                case HAND_SHAKE:
                    console.log('Connected');
                    break;
                case START:
                    console.log('Start');
                    break;
                case STOP:
                    console.log('Stop');
                    break;
                case CHANGE:
                    console.log('Change: ' + data.x);
                    break;
                case DISCONNECT:
                    console.log('Disconnect');
                    break;
            }
        });
    });
</script>
</body>
</html>